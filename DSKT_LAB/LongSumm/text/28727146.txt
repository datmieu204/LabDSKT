id: SP:373469093d655f682ad3843e73004c4105ef0047
title: Algorithmic Glass Ceiling in Social Networks
authors: [{'affiliations': [], 'name': 'Christopher Riederer'}, {'affiliations': [], 'name': 'Augustin Chaintreau'}]
abstractText: As social recommendations such as friend suggestions and people to follow become increasingly popular and influential on the growth of social media, we find that prominent social recommendation algorithms can exacerbate the under-representation of certain demographic groups at the top of the social hierarchy. To study this imbalance in online equal opportunities, we leverage new Instagram data and offer for the first time an analysis that studies the effect of gender, homophily and growth dynamics under social recommendations. Our mathematical analysis demonstrates the existence of an algorithmic glass ceiling that exhibits all the properties of the metaphorical social barrier that hinders groups like women or people of color from attaining equal representation. What raises concern is that our proof shows that under fixed minority and homophily parameters the algorithmic effect is systematically larger than the glass ceiling generated by the spontaneous growth of social networks. We discuss ways to address this concern in future design.
references: [{'authors': ['C Avin', 'B Keller', 'Z Lotker', 'C Mathieu'], 'title': 'and David Peleg', 'venue': '2015. Homophily and the glass ceiling effect in social networks. ITCS ', 'year': 2015}, {'authors': ['S Barocas', 'A D Selbst'], 'title': '2016', 'venue': 'Big data’s disparate impact. California Law Review ', 'year': 2016}, {'authors': ['Tolga Bolukbasi', 'Kai-Wei Chang', 'James Y Zou', 'Venkatesh Saligrama', 'Adam T Kalai'], 'title': 'Man is to Computer Programmer as Woman is to Homemaker? Debiasing Word Embeddings', 'venue': 'Advances in Neural Information Processing Systems (NIPS)', 'year': 2016}, {'authors': ['Alexandra Chouldechova'], 'title': 'Fair Prediction with Disparate Impact: A Study of Bias in Recidivism Prediction Instruments', 'venue': 'Big data 5,', 'year': 2017}, {'authors': ['Y Dong', 'R A Johnson', 'J Xu', 'N V Chawla'], 'title': 'Structural Diversity and Homophily: A Study Across More Than One Hundred Big Networks. In KDD ’17', 'year': 2017}, {'authors': ['Maeve Duggan'], 'title': 'Mobile Messaging and Social Media', 'venue': 'Pew Research Center', 'year': 2015}, {'authors': ['Benjamin G Edelman', 'Michael Luca', 'Dan Svirsky'], 'title': 'Racial Discrimination in the Sharing Economy: Evidence from a Field Experiment', 'venue': 'American Economic Journal: Applied Economics 9,', 'year': 2017}, {'authors': ['A Hannak', 'C Wagner', 'D Garcia'], 'title': 'Alan Mislove', 'venue': 'Markus Strohmaier, and Christo Wilson. 2017. Bias in Online Freelance Marketplaces: Evidence from TaskRabbit and Fiverr. Proceedings of CSCW ', 'year': 2017}, {'authors': ['Ravi Kumar', 'Prabhakar Raghavan', 'S Rajagopalan', 'D Sivakumar', 'Andrew Tomkins', 'E Upfal'], 'title': 'Stochastic models for theWeb graph', 'venue': 'IEEE FOCS', 'year': 2000}, {'authors': ['Michael Ley'], 'title': 'DBLP: some lessons learned', 'venue': 'Proceedings of the VLDB Endowment 2,', 'year': 2009}, {'authors': ['David Liben-Nowell', 'Jon Kleinberg'], 'title': 'The link-prediction problem for social networks. journal of the Association for Information', 'venue': 'Science and Technology 58,', 'year': 2007}, {'authors': ['Miller McPherson', 'Lynn Smith-Lovin', 'JamesM Cook'], 'title': 'Birds of a Feather: Homophily in Social Networks', 'venue': 'Annual review of sociology', 'year': 2001}, {'authors': ['Alan Mislove', 'S Lehmann', 'Y Y Ahn', 'J-P Onnela'], 'title': 'Understanding the Demographics of Twitter Users', 'year': 2011}, {'authors': ['Shirin Nilizadeh', 'Anne Groggel', 'Peter Lista', 'Srijita Das', 'Yong-Yeol Ahn', 'Apu Kapadia', 'Fabio Rojas'], 'title': 'Twitter’s Glass Ceiling: The Effect of Perceived Gender on Online Visibility', 'year': 2016}, {'authors': ['Flávio Souza', 'Diego de Las Casas', 'Vinícius Flores', 'SunBum Youn', 'Meeyoung Cha', 'Daniele Quercia', 'Virgílio Almeida'], 'title': 'Dawn of the selfie era: The whos, wheres, and hows of selfies on Instagram', 'venue': 'In Proceedings of the 2015 ACM on conference on online social networks', 'year': 2015}, {'authors': ['J Su', 'A Sharma', 'S Goel'], 'title': '2016', 'venue': 'The Effect of Recommendations on Network Structure. WWW ’18: Proceeding of the 25th International Conference on World Wide Web ', 'year': 2016}, {'authors': ['Ke Yang', 'Julia Stoyanovich'], 'title': 'Measuring Fairness in Ranked Outputs', 'venue': 'Proceedings of Workshop FATML', 'year': 2016}, {'authors': ['Muhammad Bilal Zafar', 'Isabel Valera', 'Manuel Gomez Rodriguez', 'Krishna Gummadi'], 'title': 'Fairness Beyond Disparate Treatment & Disparate Impact: Learning Classification without DisparateMistreatment', 'venue': 'InWWW', 'year': 2017}]
sections: [{'text': 'KEYWORDS social recommender, fairness, random walks, homophily ACM Reference Format: Ana-Andreea Stoica, Christopher Riederer, and Augustin Chaintreau. 2018. Algorithmic Glass Ceiling in Social Networks: The effects of social recommendations on network diversity. In WWW 2018: The 2018 Web Conference, April 23–27, 2018, Lyon, France. ACM, New York, NY, USA, 10 pages. https://doi.org/10.1145/3178876.3186140'}, {'heading': '1 INTRODUCTION', 'text': 'Geographical distance and social prejudice have a long history of preventing equitable access to information and commercial transactions. One hope of an increasingly connected world is to at least take a step towards equal opportunities by removing some of those barriers. But, in the social networks now governing the knowledge, jobs and deals one can seek, what matters most today is one’s position in a graph of advantageous connections. Those connections take time to set up and maintain. Recommender systems play a key role in assisting individuals in directing their social sharing\nThis material is based upon work supported by the National Science Foundation under Grant No.1254035 and 1514437.\nThis paper is published under the Creative Commons Attribution 4.0 International (CC BY 4.0) license. Authors reserve their rights to disseminate the work on their personal and corporate Web sites with the appropriate attribution. WWW 2018, April 23–27, 2018, Lyon, France © 2018 IW3C2 (International World Wide Web Conference Committee), published under Creative Commons CC BY 4.0 License. ACM ISBN 978-1-4503-5639-8/18/04. https://doi.org/10.1145/3178876.3186140\nactivity towards the most valuable sources and partners. But under which conditions can we ensure that those suggestions are not reproducing, or worse, reinforcing our historical biases, combined with a cloudy illusion of objectivity? One would a priori expect similarity metrics, usually the basis of recommender systems, to contribute to sustaining disparities among various groups. We show much more: using empirical evidence from newly collected data on Instagram and a rigorous analysis of mathematical models, we prove that prominent recommender algorithms reinforce the rate at which disparity grows.\nWhile the issues introduced affect countless situations where suggestions are algorithmically produced, we focus for concreteness on an elementary case: the suggestion to build a new edge with another participant. Features like “People you may know” (Facebook), “Who to follow” (Twitter), “Suggested Accounts” (Instagram) are now pervasive across most popular social network services. Their impact on the evolution of connection graph has been demonstrated [16]. To quote the Chairs’ opening statement from the FATREC workshop (2017), “If recommendation applications did not alter participants’ behaviors, those applications would not exist”. As a thought experiment, one may picture the organic growth of a connection graph (i.e., the addition of edges occurring in absence of any suggestions) as a reference point. An algorithmic growth, in contrast, results from suggestions. An algorithm to determine new edges to suggest is generally evaluated either via its predictive power (i.e., does it anticipate organic growth?), or its hit rate (i.e., are its suggestions well received?). We ask a different question: are there safe (respectively unsafe) conditions under which a well-know metric of disparate impact is no worse (respectively strictly worse) for algorithmic growth than for organic growth? Unfortunately, our study demonstrates that no safe conditions exist outside trivial cases for frequently used algorithms and three definitions of disparate impact. However, we quickly note that future suggestion algorithms could be designed to account for and correct that bias, and offer a short discussion of simple ways to address this in future design.\nThis paper presents the following contributions:\n• To better investigate the role of gender in organic and artificial growth of social networks, we conduct a large crawl of the Instagram service and its active relationships (comments and likes). The graph has a moderate but distinct majority of female profiles. Nevertheless, with high statistical confidence, the organic growth we captured exhibits traces of a so-called glass ceiling preventing females from rising to the most commented and liked profiles. But that pales by comparison with the algorithmic glass ceiling which is observed when two well known algorithms are used: only in that case\ndo we observe a drastic gap arising in the degree distributions by gender. A sudden decrease of female representation at the top ensues (Section 3). • We follow a mathematical analysis of the effect of random walks on dynamic graphs to investigate the conditions creating algorithmic glass ceiling. Previous works highlighted how combining an uneven population with homophily prepares the ground for glass ceiling in the typical organic growth of preferential attachment. Our method allows one to study the eventual perturbation effect of a recommendation algorithm as the result of a new polynomial fixed point equation. This is used to prove two major results: First, a simple recommendation algorithm leveraging random walks is not only subject to some bias, it also reinforces the rate at which a gender gap arises. Second, we prove numerically that this effect is always noticeable for observed parameters (Section 4). • We provide two important theoretical follow ups. First, we address the apparent contradiction between empirical observations (showing glass ceiling against a female majority) and mathematical results (predicting glass ceiling at the expense of a minority). The two are reconciled by an extension of the above model we call differentiated homophily where the two groups exhibit varying propensity to favor their own peers. We prove that this can flip the glass ceiling effect to come at the expense of a majority. We document that, indeed, male accounts on Instagram exhibit much stronger homophily among each others when compared with female accounts. Finally, as a proof of concept we quickly describe a simple "rejection method" for an improved random walk recommendation algorithm. This approach makes stringent assumptions but offers the advantage of making the algorithmic growth more equitable than organic growth (Section 6).\nAs we detail immediately below, the sharp amplification of the glass ceiling effect by an algorithm is an entirely new result, which has no equivalent that we know of. It is a special case of a widely open problem: how to correct a seemingly neutral algorithm when the structure it exploits is not fair to begin with. Some might argue the algorithm is simply legitimate as it leverages sensible metrics and is not solely responsible for the unfairness found in the system. That remains however unsatisfactory for anyone wishing more equal opportunities for all. Those who abide by a strict fairness requirement (e.g., defined as statistical parity [18] or equality of opportunity), may suggest a correction step be applied. Unfortunately, without a deep understanding of the cause and reverberation of bias, any post-hoc correction can be harshly debated. Our paper offers an alternative way: identify some structural causes of the emerging unfairness, and require algorithms to be designed in a way that leverages structure while carefully avoiding those biases in the presence of the above conditions.'}, {'heading': '2 RELATEDWORK', 'text': 'Our work addresses the fairness concerns recently raised for decisions informed by algorithms run on Big Data. Even with no explicit intention to discriminate and without access to sensitive attributes such as gender and race, such algorithms can potentially create undue biases [2]. Most related work on this issue centers on binary\nclassification tasks such as loan approval, with a goal to maintain operational efficiency under various conditions of equal treatment or opportunity [4]. Similarly, fairness was studied for word embeddings [3] and nodes ranking [17]. But to our knowledge, an analysis of social recommendation and the effect of graph algorithms has yet to be conducted. The main difference is that one must analyze the effect of network structure.\nWe build on a growing body of evidence that online services (including Twitter[14], TaskRabbit [8], and Airbnb [7]) can reproduce well-known prejudices against historically under-represented groups. Issues raised include disparate treatment and evidence of a metaphorical glass ceiling. The latter denotes an invisible barrier preventing given demographics (most commonly females) to reach superior levels of recognition. This manifests itself when (1) chances of advancement to a higher level are uneven for members of that demographic group, (2) when it is not explained by taskrelevant characteristics, and (3) when that inequality increases for higher and higher levels. We observe that these three conditions hold for the Instagram dataset, in particular for people who like and comment on others’ posts. In addition, we collect for the first time the graph connecting individuals within our crawl. This leads us to observe whether algorithms (in this case, profile recommendation) would alleviate or reinforce this trend. Recent work suggested that the growth of Twitter was also impacted by recommendation [16]. Combining such previous results with ours raises concerns that the current engineered growth of social media may in the end systematically misrepresent entire groups of the population.\nHomophily, a tendency of individuals to favor interactions with similar peers – widely established to hold for social networks and online communites [5, 12] – is at the core of our result. The result most relevant to ours is a recent proof that rich-get-richer dynamics combined with homophily naturally exacerbate the advantage of a majority group [1]. That model can explain why, as in other services, organic interaction on Instagram exhibits the aforementioned bias against some of its participants. We, on the other hand, introduce random walk dynamics, which closely capture the way recommender systems operate.'}, {'heading': '3 COMPARISON OF ORGANIC AND ALGORITHMIC GROWTH', 'text': ''}, {'heading': '3.1 Data Collection', 'text': 'Instagram activity graph. We performed a crawl on Instagram’s public profiles starting from the founder of Instagram, Kevin Systrom. Through the Instagram API, we collected profile information and recursively followed the lists of followers. For each profile, we collected the name, username, unique id, and crawled the meta-data for each photo, which include: unique photo id, number of likes, number of comments, hashtags, location, timestamp, tagged users, and a random subset of 3-5 likes and comments with their authors. For each user, we aggregated this information in obtaining the total number of likes, comments, tags, first and last photo timestamp, and the set of used hashtags. In total, we collected 115, 796, 284 photos from 245, 038 different users over multiple months of 2014 and 2015. While the data might not encompass the full diversity of Instagram users, it is sufficient to obtain statistically significant results most of the time.\nGender inference. Our gender inferencemethod adapted from [13] leverages first name and social security data. Mislove et al. inferred the gender balance using a dataset of names from social security data ranging between 1890 and 2015. We only included name data between 1940 and 2007, as reported demographic statistics predict that less than 4% of Instagram users would be born before that [6].\nWe filtered reported names for those having at least 50 occurrences for either men or women, with at least 95% of a single gender. This created 32, 676 unique unambiguous first names, which we use to label 92, 935 Instagram users. That is approximately 38% of the population. Among those 49, 583, or 53%, are labeled as female, and 43, 352, or 47%, as male. We tested a small sample of classified names by hand, obtaining 97% accuracy. We call this graph the Instagram-labeled-core.\nThe graph of likes and comments. Users of Instagram-labeledcore collectively posted 44, 725, 840 photos, out of which we randomly sample 1million photos. For each photo in this set, we looked at the 3-5 likes and comments received and extracted all authors, keeping those only when their gender could be labelled as above. We create an edge between the authors of the pictures and the authors of the likes or comments. We choose to focus on likes and comments as interactions, since they are a more involved way of connecting online than followers.\nThis created a graph of 553,628 nodes and 652,931 edges, where everyone has a labeled gender. Here, we obtained 54.43% users labeled as female, and 45.56% users labeled as male, showing that gender balance appears the same as above. This graph is called Instagram activity and is the main graph we will use in the rest of this article. Note that it is much larger, authors of comments may not have been in the original crawl and hence we do not have all meta-data about their activity and following. Building a graph implies that a user’s degree count how many distinct (and labeled) users either received or gave a comment or a liked to one of her pictures.\nDBLP graph. We validated our results against a selection of the DBLP co-authorship dataset [10], confirming the analysis fromAvin et al. [1] that shows a gender discrepancy between male and female researchers in the numbers of mentees they have.\nWe sample the first 200, 000 articles from the latest version of the DBLP dataset, from which we extract the authors and perform gender inference as above. We further create a graph of co-authorship between authors for whom our inference method finds a gender. The resulting graph, the DBLP graph, consists of 102, 263 nodes, out of which 80.7% are labeled as male and 19.3% as female, and 199, 679 edges. As an existing bias towards male researchers is proven to exist in this dataset [1], we analyze the effect of recommendation algorithm on such a gap.'}, {'heading': '3.2 Bias under organic growth', 'text': 'Instagram’s "Suggested accounts” feature was introduced after our data crawl. The data we collected is hence a representative view of an organic growth, which is how the network evolves from interaction in the absence of algorithmic suggestions.\nA rich body of literature focuses on the effect of gender in acquiring visibility and impact in the online world [14] [15] [1], where measures of wealth are redefined as volume of user-user interactions (such as the degree we defined above).\nWe conducted multiple analyses reproducing methodology from papers cited above, that we briefly summarize for space reasons. First, in the Instagram-activity graph, we use Poisson Regression with no control variables. This analysis reveals that in the last quartile containing most prominent accounts, male users have an incidence rate ratio (IRR) of 1.09*** (a 9% increase, where *** denotes statistical confidence p < 0.001) for comment/like degree. All other quartiles show no effect of gender. The effect is however relatively small, and most prominent at the top 0.1% which contains half a thousand nodes (see Table 1). In fact, among the top 5,000 or top 1%, women are statistically significant to have larger degrees up to 12%.\nFigure 1 further illustrates this effect in both the Instagram activity graph and the DBLP graph. For the Instagram dataset (a), we\nobserve that while in the initial graph the disparity between the two genders is not very large (blue dots and circles), it is still present. While females make up 54% of the total population, they represent only 48% of those with degree > 10 (which corresponds roughly to the top 1% most connected users), 54% of those with degree > 100 (a subset which exhibits no particular gender imbalance), and 45% of those with degree > 2000.\nIn summary, the organic growth we observe confirms a significant effect of gender. We obtain similar results (omitted here) when controlling for content productivity. Overall, women appear underrepresented at the top, although they form the largest group, yet not completely excluded from large levels of recognitions. This motivates us to study how those biases change when Instagram’s organic growth is complemented by recommendations.'}, {'heading': '3.3 Recommendation algorithms', 'text': 'Recommendation algorithms typically leverage structure to find compatible matches among similar but not yet connected individuals. Many heuristics have been proposed and it is challenging to choose a representative subset of them. Two stand out from prior comprehensive comparisons:\nThe Adamic-Adar index. We first note that if algorithms were perfectly predictive and only suggested edges that nodes would have made in organic growth, we should not observe a significant effect. We therefore include social recommendation based on the Adamic-Adar index, as it is shown in [11] to be the most accurate in prediction and therefore a conservative choice from a perturbation standpoint. The Adamic-Adar index adapts a simple rule, “choose node with maximum-common-neighbors” to avoid always\nrecommending high degree nodes. Our own analysis of maximumcommon-neighbors revealed that indeed that would be impractical and too simplistic to obtain sensible results, as suggestions are chosen in a restricted set. We define Adamic-Adar index between two nodes u and v as (u,v ) → ∑\nw ∈Γ(u )∩Γ(v ) 1/ log |Γ(w ) |, where\n|Γ(u) | denotes all neighbors of u [11]. Note that in this index common neighbors that are very popular would carry a smaller weight than common neighbors with a smaller degree. For each node, the social recommendations is computed by finding another node v with largest index that is not already a neighbor (breaking ties randomly).\nRandom Walk. Another interesting comparison point would be an algorithm that best reproduces suggestions that are actually given today. That is a difficult task since many of the algorithms currently deployed are complex and often kept secret to keep competitors and cheaters at bay. To best address this need, we choose an algorithm based on a random walk of length 2, as it was deemed similar to real recommendations in the only article we know that had access to this proprietary data [16]. This algorithm, in contrast with Adamic-Adar index, returns a random recommendation for each node u, by starting a random walk at a point X1 = u and returning v with probability\nP(X3 = v |X1 = u). (1)\nWe note that the results we obtained seem to hold independently of the algorithms chosen. That could be because both algorithm, and indeed most recommendations, would more likely select a node with multiple common neighbors of small degrees, and differ only in how they combine those features.'}, {'heading': '3.4 Bias under algorithmic growth', 'text': 'The natural equivalent of degree as a measure of recognition or wealth under recommendations is the number of users who get recommended to connect with you, i.e., frequency of recommendation. For every node in the Instagram-activity graph and the DBLP graph, we computed a single recommendation and collected the frequency of various nodes to appear as suggestions, which relates to degree growth under such dynamics.\nWe first present in Table 2 results allowing a direct comparison to organic growth. We use Poisson Regression with the dependent variable as the frequency of recommendation under Adamic-Adar for the Instagram activity graph (note that the total population in this case is 295, 919, i.e. individuals who have been recommended at least once). Omitted results for the random walk algorithm are similar. Here, one sees a more noticeable and consistent glass ceiling effect. All the population in the last quartile sees male with larger frequencies, and this trend always grows with higher degrees.\nWhile organic growth generates degree distributions for each gender that are hard to distinguish, it is immediately clear that the frequency of recommendation distribution for the Adamic-Adar algorithm exhibits a gap between males and females (Figure 2) for both the Instagram dataset and the selected DBLP dataset. This confirms and extends the results obtained by Avin et al [1], where a gender bias is observed in the DBLP network.\nThis gap, exhibited to grow in log-log scale, is a sign of different power coefficients governing the statistical chance to reach at least x recommendations, depending on gender. As one progressively selects to retain only the most successful individuals, the aforementioned effect translates into a sudden and accelerating drop of the observed fraction of females. That drop of female representation is illustrated on Figure 1 in red for Adamic-Adar recommendations and green for the Random Walk, where the size of the circle drawn\nhelps interpret the relative size of the selected group. The contrast with a similar statistic on organic growth shown in blue is remarkable.\nAs females are the majority even in the set of recommended users, the effect of gender disparity in recommendations amplifies, since simple homophily would suggest that females should be recommended more throughout. This suggests that degree alone is not sufficient in creating wealth, and that homophily also plays a role and can go as far as inverting inequality.\nTable 3 shows this analysis for the initial graph, having as rows the whole set of nodes (split by Male and Female), and as columns the users to whom they are connected. For each row, we show the percentage of males and females, and in parenthesis the ratio to the actual percentage of males and females, respectively. We observe that users labeled as male are more homophilic than users labeled as females, showing an instance of differentiated homophily.'}, {'heading': '4 MODEL AND DEFINITIONS', 'text': 'We now introduce a model of algorithmic growth under a recommendation algorithm which reproduces the observed reinforcing bias. This serves two purposes: first, it validates that our results are not limited to activity and gender on Instagram, but are more broadly applicable. Second, it offers a starting point to investigate its causes, which may help to alleviate bias in future design. We build upon an extension of preferential attachment dynamics (or the linear copying model, equivalently) [1, 9].'}, {'heading': '4.1 Organic growth', 'text': 'The first model we introduce, adapted from an existing model, reproduces a network’s spontaneous addition of edges, where each node has a label, blue (B) or red (R), and at each point in time the network grows as:\n• Minority-majority partition: a new node X0 enters the network and receives label R with probability r and B with probability 1 − r (for 0 ≤ r ≤ 1/2). • Randomness: with probability η, the new node X0 chooses an existing node X1 at random (Figure 3 (a)). • Preferential attachment (rich get richer): with probability 1−η, X0 chooses a node uniformly at random and copies one of its edges. This is equivalent to the new node connecting proportional to the ending node’s degree, P(v is chosen) = δt (v )/\n∑ u ∈Vt δt (u), where δt (x ) denotes the degree of node\nx at time t and Vt is the set of nodes in the graph at time t (Figure 3 (b)). • Homophily: if the new node has a different label than the node it chooses to connect to, the connection is accepted with probability ρ and the process is repeated until an edge is formed. The homophily parameter 0 ≤ ρ ≤ 1 captures that a person less similar is less likely to be eventually chosen that one of the same kind.\nThus, as the network grows according to this model, exactly one node and one directed edge are added at each timestep. We call this process the "organic growth" of the network, as individuals enter the network and form new connections without the influence of any external forces.'}, {'heading': '4.2 Recommendation algorithm', 'text': 'We extend the organic growth model by adding sparse recommendations between existing nodes. Most recommendation algorithms [11] rely on connecting nodes with one of distance-2 neighbors or friends-of-friends (e.g., common neighbors, Adamic-Adar, Jaccard, random walks). For the purpose of this theoretical analysis, we focus on the random walk of length 2 (see Eq.1 above), as it encompasses the general properties of such algorithms and makes theoretical analysis tractable. We assume that the network grows under the recommendation algorithm in the following way: • Minority-majority partition: a new node X0 enters the network and receives label R with probability r and B with probability 1 − r (for 0 ≤ r ≤ 1/2). • Organic growth: with probability ζ , X0 connects through organic growth. • Recommendation: with probability 1 − ζ , X1 is chosen uniformly at random, and follows a random walk of length 2: X1 → X2 → X3. At the end,X1 connects toX3 (if same color, connect; if different color, connect with probability ρ). X0 can be thought as a virtual node in this case, that disappears as it does not receive any connection (Figure 3 (c)).\nWe analyze the effects of recommendation asymptotically, assuming that the network size tends to infinity.'}, {'heading': '4.3 Definitions', 'text': 'Definition 4.1 (Power inequality). A graph sequenceG (n) exhibits a power inequality effect for the red nodes if the average power of a red node is lower than that of a blue (or a random) node.\n∃c < 1 such that lim n→∞\n1 n (R ) ∑ v ∈R δ (v )\n1 n (B ) ∑ v ∈B δ (v ) ≤ c . (2)\nwhere n(R) is the number of red nodes, and δ (u) the u’s degree.\nDefinition 4.2 (Tail glass ceiling effect). A graph sequence G (n) exhibits a tail glass ceiling effect for the red nodes if there exists an\nincreasing function k (n) (for short k) such that\nlim n→∞ topk (B) = ∞ and limn→∞ topk (R) topk (B) = 0, (3)\nwhere topk (R), topk (B) denotes the number of red and blue nodes with degree at least k , respectively.\nAvin et al. [1] proves that organic growth leads to the two subpopulations having their degree distributions following two power laws, with different coefficients, which in turn proves the existence of a glass ceiling effect as per the definitions above.'}, {'heading': '5 PROOF OF ALGORITHMIC GLASS CEILING', 'text': 'Our theoretical contribution is a novel analysis of how recommendation algorithms can produce an even higher bias than organic growth. In our analysis, we note that the algorithms we analyzed do not create bias ex nihilo, but simply amplify bias in networks where it exists. For that reason, we focus on the Biased Preferential Attachment Model with the added effect of randomness and recommendation through random walks. We first provide a novel analysis of the way a random walk of length 2 affects the evolution of the in-degree distribution of nodes in the network, and show that the in-degree distribution follows a power law with different coefficients for the red and blue nodes, respectively. We analyze the in-degree since the graph is directed and the out-degree is constant by construction.\nWe use the formal definitions of the glass ceiling effect from Avin et al. [1], which rely on defining individual wealth as the degree of a node, and collective wealth as the sum of individual wealth values. Thus, we denote by R the set of red nodes and by B the set of blue nodes, βi,t the number of red nodes, ui,t (R) as the sum of degrees of all R nodes after t recommendations following random walk (and similarly for blue nodes) for the organic model (i = 1) and the recommendation model (i = 2).\nSince an edge is added at each step, it makes sense to introduce ut (R) = tαt and ut (B) = t (1 − αt ) for the organic model, where αt is equivalently defined as the sum of degree of the red nodes\ndivided by the total sum of degree, or simply the fraction of edges created towards R nodes under the recommendation dynamics. We define similarly α2,t for the recommendation model.\nFinally, we introduce some useful notation: Pi (A|B) for i = 1, 2, 3 as the conditional probability that a node of color B connects to a node of color A through randomness, preferential attachment, and recommendation, respectively. We observe that\nP1 (R |R) = β2,t\nβ2,t + ρ (1 − β2,t ) ,P1 (R |B) = ρβ2,t ρβ2,t + 1 − β2,t ,\nP2 (R |R) = α2,t\nα2,t + ρ (1 − α2,t ) ,P1 (R |B) = ρα2,t ρα2,t + 1 − α2,t ,\nP3 (R |R) = P(X3 ∈ R |X1 ∈ R)\nP(X3 ∈ R |X1 ∈ R) + ρ · P(X3 ∈ B |X1 ∈ R) ,\nP3 (R |B) = ρ · P(X3 ∈ R |X1 ∈ B)\nP(X3 ∈ B |X1 ∈ B) + ρ · P(X3 ∈ R |X1 ∈ B) .\n(4)\nNote that Pi (B |R) = 1 − Pi (R |R) and Pi (B |B) = 1 − Pi (R |B) for all i ∈ {1, 2, 3}. The denominator in each case represents the competition that a node faces when receiving a connection through each dynamic.\nThe important step in computing each of these probabilities is to analyze the probability for a red (respectively, blue) node to receive a connection, which depends on the dynamics of connection. Figure 4 shows an instance of this analysis, where the random walk X1 − X2 − X3 is decomposed into edges X1 − X2 and X2 − X3 To compute the probability for X1 − X2 to have formed, we see that it could have been created through random connection or through preferential attachment, enclosed in circles in Figure 4.\nAs the random walk can be decomposed in two independent edges, P(X3 ∈ R |X1 ∈ R) may be written\nP(X3 ∈ R |X2 ∈ R,X1 ∈ R) · P(X2 ∈ R |X1 ∈ R) + P(X3 ∈ R |X2 ∈ B,X1 ∈ R) · P(X2 ∈ B |X1 ∈ R).\n(5)\nThen, denote by P̃ (A|B) = η · P1 (A|B) + (1 − η) · P2 (A|B), for any two colors A and B. Using a similar reasoning we obtain\nP(X3 ∈ R |X1 ∈ R) = P̃ (R |R)2 + P̃ (R |B) · P̃ (B |R), P(X3 ∈ B |X1 ∈ R) = P̃ (R |R) · P̃ (B |R) + P̃ (B |B) · P̃ (B |B), P(X3 ∈ R |X1 ∈ B) = P̃ (R |B) · P̃ (R |R) + P̃ (B |B) · P̃ (R |B), P(X3 ∈ B |X1 ∈ B) = P̃ (B |B)2 + P̃ (R |B) · P̃ (B |R). (6)'}, {'heading': '5.1 Glass ceiling in the organic growth model', 'text': 'To show that the organic growth model exhibits a glass ceiling effect, we employ similar techniques to [1], with the additional effect of random connections apart from preferential attachment. Randomness, however, does not affect the degree distribution coefficients (except for nodes of in-degree 0), but only the rate of growth of edges towards the red population.\nWe firstly note that the rate of growth of edges towards the red population converges towards a constant α < r . To see this, we make use of the following lemma, where the function F models the growth of edges towards R:\nLemma 5.1. E[αt+1 |αt ] = αt + F (αt )−αtt+1 , where\nF (αt ) = ηr · P1 (R |R) + ζη(1 − r ) · P1 (R |B)+ (1 − η)r · P2 (R |R) + ζ (1 − η) (1 − r ) · P2 (R |B).\nWe omit the proofs here due to space constraint and similarity in methods, reserving space for the analysis of the recommendation model. We note that α is the fixed point of the function F .\nDegree distribution. We note that the in-degree distribution of the two populations follows a power law with different coefficients, similar as in [1], with a slight addition of the randomness factor.\nDenote by mk,t (B) and mk,t (R) the number of blue and red nodes of degree k at time t , and define\nMk (x ) = limt→∞ E(mk,t (x )) t . (7)\nTheorem 5.2. For the organic growth model, the in-degree distribution of the red and blue populations also follows a power law, i.e., Mk (R) ∼ k−β (R ) andMk (B) ∼ k−β (B ) for coefficients β (R) = 1+ 1CR and β (B) = 1 + 1CB , where\nCR = (1 − η) · ( r α · P2 (R |R) + 1 − r α · P2 (R |B) ) for k > 0,\nCR = η · ( r\nβt · P1 (R |R) + 1 − r βt · P1 (R |B)\n) for k = 0. (8)\nA similar analysis follows for the blue population.'}, {'heading': '5.2 Glass ceiling in the recommendation model', 'text': 'Convergence of wealth of red nodes. We begin by showing that the sum of degrees of the red nodes converges to a constant that is smaller than r , and even smaller than in the organic case:\nlim t→∞ α2,t = α2 < α < r . (9)\nThis first shows that power inequality is even stronger under recommendation, since the average degree of a red node is α/r in the organic model and α2/r in the recommendation model.\nTo show this, we define a new function F2 that represents the rate of growth of the number of edges towards R. We make a few important assumptions: • edges considered in the random walk are assumed to have formed through organic growth1. • edges considered in the random walk are assumed to exist independently of each other2. • edges that already exist are naturally formed at different steps in time; however, when computing an evolution equation, we set their time of formation to the current time, t .\nLemma 5.3. E[α2,t+1 |α2,t ] = α2,t + F2 (α2,t )−α2,tt+1 , where F2 (α2,t ) = ζ · η · r · P1 (R |R) + ζ · η · (1 − r ) · P1 (R |B)+ ζ · (1 − η) · r · P2 (R |R) + ζ · (1 − η) · (1 − r ) · P2 (R |B)+\n(1 − ζ ) (r · P3 (R |R) + (1 − r ) · P3 (R |B)) .\nProof. We analyze the number of edges towards R that appear at each step. In doing so, we note that\nE(u2,t+1 (R) |α2,t ) = 0 · P(u2,t+1 (R) = u2,t (R))+ 1 · P(u2,t+1 (R) = u2,t (R) + 1).\n(10)\nThe formula for F2 encapsulates P(u2,t+1 (R) = u2,t (R) + 1) as it is defined as the rate of growth of edges towards R. □\nThe following lemma summarizes properties of F2 (proof omitted here due to space constraints), which exploits the polynomial property of the function. The final property, the hardest to prove, exploits a proof by contradiction as α∗ < α∗2 (Figure 5 (a)) implies that from a given fraction of edges towards R, the fraction increases under the random walk dynamics while it decreases under organic growth, which can be shown to be impossible. Moreover, α∗ and α∗2 cannot be equal unless ρ = 1 or r = 1/2, given the polynomial function they satisfy. Considering F2 as a function of x , the following holds:\nLemma 5.4. For r < 1/2 and ρ ∈ [0, 1], we have (1) F2 is monotonically increasing. (2) F2 has exactly one fixed point in [0, 1], denoted by α∗2 , which\nis stable. (3) F2[0, 1] ⊂ [0, 1]. (4) α∗2 < α\n∗ where α∗ denotes the fraction of edges going towards red nodes in the organic growth.\nDegree distribution. We show that the degree distribution of the two populations also follows a power law, and that its coefficients for the blue and red populations are even further apart than the ones stemming from organic growth (Theorem 5.6). Following similar notation as for organic growth, denote bym2,k,t (B) andm2,k,t (R) the number of blue and red nodes of degree k at time t in the\n1Note that this may be a feature of the recommendation system, as it is desirable to avoid its own previous suggestions and feed solely on the organic growth behavior. 2Edges lead to older nodes, the choice of the first edge may differ owing to (among all others) how the second edge was chosen. That effect is very small and we neglect it.\nrecommendation model andM2,k (x ) as the limiting expectation, similarly.\nTheorem 5.5. In the case of the randomwalk of length 2, the degree distribution of the red and blue populations also follows a power law, i.e.M2,k (R) ∼ k−β2 (R ) andM2,k (B) ∼ k−β2 (B ) for coefficients β2 (R) and β2 (B).\nProof. We first derive a recurrence relation form2,k,t (R) and m2,k,t (B), respectively. Conditioning on the history of the growth until time t , F2,t , we find that the evolution can be written as\nE[m2,k,t+1 (R) |F2,t ] = m2,k,t (R)\nt\n( 1 − k ·CR2,t −T R 2,t ) + m2,k−1,t (R) t · ( (k − 1) ·CR2,t +T R 2,t ) ,\n(11)\nTR2,t is the rate for red nodes to receive edge through randomness:\nTR2,t := ζ · η · ( r\nβt · P1 (R |R) + 1 − r βt · P1 (R |B)\n) , (12)\nk ·CR2,t is the rate at which nodes connect to red nodes of degree k through preferential attachment or recommendations:\nCR2,t := ζ (1 − η) ( r\nα2,t · P2 (R |R) + 1 − r α2,t\n· P2 (R |B) )\n+ (1 − ζ ) ( r\nα2,t · P3 (R |R) + 1 − r α2,t\n· P3 (R |B) ) .\n(13)\nNote that the additional factors of 1β2,t and 1 α2,t come from the fact that the node receiving the connection must be of degree k (a similar analysis for degree k − 1), and so the probability to choose it between all other red nodes is m2,k,t (R ) ·kt ·β2,t when the choice is random and m2,k,t (R ) ·kt ·α2,t when the choice is through preferential attachment or recommendation.\nWe note that a similar concentration argument applies as in [1], showing that β2,t → r and α2,t → α2. Thus, we may define CR2 := lim t→∞ CR2,t andT R 2 := limt→∞T R 2,t . From here, one can reuse equations 7\nand 11 and Lemma 4.14 from Avin et al. [1] to write, for large k ,\nMk (R)\nMk−1 (R) =\n(k − 1)CR2 +T R 2\n1 + kCR2 +T R 2 = 1 −\n1 + 1/CR2 k +O ( 1 k2 ) , (14)\nthus proving that the degree distribution follows a power law (the factor pertaining to random choices vanishes). A similar analysis follows for the blue population, and we can deduce that degrees quickly converge to a power law as t gets large, where coefficient β2 (R) = 1 + 1CR2 and β2 (B) = 1 + 1CB2 . □\nTheorem 5.6. For r ∈ [0, 1/2] and ρ ∈ [0, 1], we have β2 (R) > β (R) > 3 > β (B) > β2 (B). (15)\nwhere β (R) and β (B) are the equivalent power law coefficients under organic growth. This implies tail and strong glass ceiling effects that are even more pronounced under algorithmic recommendations.\nProof. Due to space constraints we present a sketch of the proof. It leverages the previous comparison α∗2 < α\n∗ together with an invariant equation that is, to the best of our knowledge, novel.\nLemma 5.7. Given α and α2 the limits of the fraction of edges towards R as defined above, the following holds:\nα ·CR + r ·TR = α , and α2 ·CR2 + r ·T R 2 = α2. (16)\nThis lemma follows from the observation that at equilibrium, when t is large, the rate at which red edges appear must equal the current fraction of red edges, as it does not evolve anymore. Revisiting Eq. (11-13), we find that the rate at which edges towards red nodes of degree k are created is mk,t (R )t · (k ·CRt +TRt ). Summing up after all nodes, the rate at which edges towards R are created is:∑ k≥0 mk,t (R) t ·(k ·CRt +TRt ) = CRt · ∑ k≥0 k ·mk,t (R) t︸ ︷︷ ︸\nαt\n+TRt · ∑ k≥0 mk,t (R)\nt︸ ︷︷ ︸ βt\nWhen t is large, this must be equal to the rate at which edges towardsR are created, which is by definitionα . An identical analysis follows for the recommendation model, leading to Theorem 5.6. Using α2 < α and the invariant equation above, CR2 < CR follows as ζ is close to 1 and TR and T 2R differ only by a factor of ζ .\nA similar proof indicates that (1−α ) ·CB+(1−r )TB = 1−α , shows that the coefficient for the blue population degree distribution after the randomwalk is larger than the one after organic growth (C2,B > CB ⇔ β2 (B) > β (B)). □'}, {'heading': '6 EXTENSIONS', 'text': 'As we have seen, homophily plays a central role in the creation of a glass ceiling effect, yet characterizing its contribution precisely becomes challenging in complex models. For populations exhibiting equal rates of homophily, our results show that the majority have an advantageous position. But what happens in the case of differential homophily, where some populations may accept to connect with more diverse individuals than others? A natural question is: can the homophily parameter be used advantageously by the minority population in reversing the glass ceiling effect? We explore this question below, showing that in cases where the minority has a\nhigher homophily parameter, the hierarchy between the majority and minority populations can be reversed.\nFor the organic growth model, define ρR and ρB as the accept probability for incoming red and blue nodes, respectively. A new growth function F (denoted Fd ) then occurs as P1 and P2 change:\nFd (x ) = η · ( r · r\nr + ρR (1 − r ) + (1 − r ) · ρBr ρBr + 1 − r ) +(1 − η) · ( r · x\nx + ρR (1 − r ) + (1 − r ) · ρBx ρBx + 1 − x\n) . (17)\nSetting ρR < ρB , we effectively allow the red population to fewer more incoming edges from B than the blue nodes accept from R, in a sense "protecting" themselves. We show an instance of this in Figure 5 (b), where we set ρR = 0.2 and ρB = 0.5 for Fd (green) and ρR = ρB = ρ = 0.5 for the original F (orange). Note that the fixed point of Fd , αd is now larger than r , which shows that the accumulated wealth of the red nodes has surpassed the expectation (their fraction, r ), effectively reversing the hierarchy between the red and the blue nodes.\nThus, in alleviating the algorithmic glass ceiling effect, we propose that the homophily parameter ρ be accounted for in designing structure-based recommendation algorithms. In our case, given a network with labels, a majority-minority partition, and a recommendation model based on random walks, one can infer and use the value of ρ in counteracting the bias, i.e., conduct a random walk which "accepts" with probability ρ a transition that leads to same label connection. This would be able to cancel the effect of homophily on the randomwalk and ought to equalize influence and power law coefficients among labels. It is not evident how to infer ρ from the dataset, as it is not simply equal to the observed fraction of mixed-label edges, since rejected edges are lost. However, as one can approximate the fraction of minority population r and the fraction of their total power, α , we can replace them as parameters in the function F from Lemma 4.3 from [1], knowing that F has α as its fixed point. Thus, considering F (α ) − α as a function of ρ, we know that it must be equal to 0 from the fixed-point equation, so we can solve for ρ and obtain an approximate value.'}, {'heading': '7 CONCLUSIONS', 'text': 'Our theoretical and empirical analysis unravel subtle dynamics of network growth, showing the way homophily and preferential attachment tie into the creation of a glass ceiling effect in a network that undergoes recommendations. We have thus formalized the algorithmic glass ceiling effect, and showed that while algorithms do not create disparity out of nowhere, they canworsen pre-existing inequality.\nOur empirical results reverse the hierarchy projected by the theoretical analysis in an unequal network in a surprising but not contradictory manner. Indeed, we show how a subtle mechanism of network growth, namely, differential homophily, can contribute in reversing the glass ceiling effect against themajority population.We hope these results will help future design of social recommendations that optimize relevance while preventing glass ceiling.'}]
